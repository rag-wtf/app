# Story 1.1: Foundational Setup

**Status**: Draft

## Story

As a developer, I want to set up the basic structure for the evaluation framework and implement a feature flag system using `.env` files, so that I have the foundational tools needed for the subsequent enhancements.

## Acceptance Criteria

1.  A new `EvaluationView` is created and accessible from the main navigation.
2.  A feature flag system reading from a `.env` file is implemented.
3.  The `SettingsView` has a new selector for the RAG pipeline level, controlled by a feature flag.

## Dev Notes

*   **UI Architecture**: The application uses the Stacked architecture. The new `EvaluationView` should be created as a new top-level view, following the existing patterns. [Source: `docs/architecture.md#Component Architecture`, `docs/prd.md#User Interface Enhancement Goals`]
*   **Project Structure**: The project is a Melos monorepo. To maintain modularity, the new view and its related logic should be placed in a new package: `packages/evaluation`. [Source: `docs/architecture.md#High Level Architecture`]
*   **Feature Flags**: A `.env` file will be used for feature flags. The application needs to be configured to load this file at startup. A new service should be created to provide access to the feature flags. [Source: `docs/prd.md#Requirements (Prioritized with MoSCoW)`]
*   **Testing Requirements**: Unit and widget tests must be written for all new components, including the view, viewmodel, and services. [Source: `docs/architecture.md#Testing Strategy for Abstraction`]

## Tasks / Subtasks

1.  **Package Creation**
    *   [ ] Create a new package `packages/evaluation` using the existing `stacked_package_template`.
2.  **View and ViewModel**
    *   [ ] Create the `EvaluationView` within the new package.
    *   [ ] Create the `EvaluationViewModel` for the view.
    *   [ ] Add the `EvaluationView` to the main application router to make it accessible.
3.  **Feature Flag System**
    *   [ ] Create a new `FeatureFlagService` to read and parse the `.env` file.
    *   [ ] Add a `.env.example` file to the project root and document the new feature flags.
    *   [ ] Integrate the `FeatureFlagService` into the application's dependency injection setup.
4.  **SettingsView Integration**
    *   [ ] Add a new dropdown or slider widget to the `SettingsView` for selecting the RAG pipeline level.
    *   [ ] Use the `FeatureFlagService` to control the visibility of this new widget.
5.  **Testing**
    *   [ ] Write unit tests for the `EvaluationViewModel`.
    *   [ ] Write unit tests for the `FeatureFlagService`.
    *   [ ] Write widget tests for the `EvaluationView`.
