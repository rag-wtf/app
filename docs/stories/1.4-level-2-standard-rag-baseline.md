# Story 1.4: Level 2 - Standard RAG (Baseline)

**Status**: Draft

## Story

As a developer, I want to ensure the existing Standard RAG (semantic search) is established as the baseline for comparison, so that I can measure the impact of other techniques against it.

## Acceptance Criteria

1.  The existing semantic search pipeline is designated as "Level 2 - Standard RAG" in the RAG pipeline level selector.
2.  The `EvaluationView` is fully integrated with this level and can display all relevant metrics for the standard RAG pipeline.
3.  The existing RAG functionality continues to work as expected.
4.  The Standard RAG pipeline remains the default selection.

## Dev Notes

*   **Configuration**: This story is primarily about configuration and integration. The existing semantic search logic in `ChatService` is the implementation for this level.
*   **RAG Pipeline Selection**: The `SettingsView` and `SettingService` need to be updated to include "Level 2 - Standard RAG" as an option in the pipeline selector. This should be the default option.
*   **Evaluation Framework Integration**: The `EvaluationView` needs to be connected to the results of the Standard RAG pipeline. This will likely involve:
    *   Ensuring the metrics (e.g., Correctness, Speed) are calculated and stored for this level.
    *   Displaying the metrics in the `EvaluationView` when this level is active.
*   **Existing Logic**: The core logic for the standard RAG is already in `ChatService` and `EmbeddingRepository`. No changes to the core RAG logic are expected in this story.

### Testing
*   **Test file location**: All new tests should be placed in the `test/` directory of their respective packages.
*   **Test standards**: Follow existing testing patterns and conventions.
*   **Frameworks**: Use the existing `flutter_test` and `mockito` frameworks.
*   **Requirements**: Unit and widget tests must be written to verify the `EvaluationView` correctly displays the metrics for the Standard RAG pipeline.

## Tasks / Subtasks

1.  **Settings (`SettingsView` and `SettingService`)**
    *   [ ] (AC: 1, 4) Add "Level 2 - Standard RAG" as an option to the RAG pipeline level selector.
    *   [ ] (AC: 4) Set "Level 2 - Standard RAG" as the default option in the `SettingService`.
2.  **Evaluation Framework (`EvaluationView` and `EvaluationViewModel`)**
    *   [ ] (AC: 2) Implement the logic to fetch and display the evaluation metrics for the Standard RAG pipeline in the `EvaluationView`.
    *   [ ] (AC: 2) Ensure the `EvaluationViewModel` correctly processes and provides the data for the view.
3.  **Chat Service (`ChatService`)**
    *   [ ] (AC: 1, 3) Ensure the `_rag` method correctly defaults to the standard semantic search when the pipeline level is set to "Level 2".
4.  **Testing**
    *   [ ] (AC: 1, 4) Write a widget test to verify the new option in the `SettingsView` and that it is the default.
    *   [ ] (AC: 2) Write widget tests for the `EvaluationView` to verify that the metrics are displayed correctly.
    *   [ ] (AC: 3) Write a unit test for the `ChatService` to ensure the standard RAG pipeline is executed when the level is set to 2.
